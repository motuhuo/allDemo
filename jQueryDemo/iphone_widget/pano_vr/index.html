<!DOCTYPE html>
<html>
<head>
<title>全景VR</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,target-densitydpi=device-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<link rel="stylesheet" type="text/css" href="../../iphone/css/common.css" />
<style>
article{ display: flex;}
.pano{height:100%; position:relative; overflow:hidden; flex: 1;}
.pano .hot{ position:absolute; left:0; top:0; width:100%; height:100%;}
.pano .hot span{ display:block; position:absolute; left:0; top:0; width:.2rem; height:.2rem; margin-left: -.1rem; margin-top: -.1rem; background:rgba(255,255,255,0.7); border-radius:50%; box-shadow:0 0 .1rem #333;}
.pano .hot span i{ position:absolute; left:-1px; top:-1px; width:100%; height:100%; border-radius:50%; border:1px solid #fff; -webkit-animation:hot 2s ease infinite;}
.pano .cross{ position:absolute; left:50%; top:50%; width:.1rem; height:.1rem; margin-left: -.05rem; margin-top: -.05rem; background:rgba(255,0,0,0.8); border-radius:50%; box-shadow:0 0 .1rem #333; border:1px solid rgba(255,255,255,0.5);}
.pano .info{ position: absolute; right: 0.1rem; top: 45%; width: 1.2rem; padding: 0.1rem 0.1rem; background-color: rgba(0,0,0,0.7); border: 1px solid rgba(0,0,0,0.5); border-radius:0.1rem; box-shadow:0 0 .1rem #333; display: none;}
.pano .info p{color: #fff; font-size: 0.18rem; line-height: 0.18rem; text-align: center;}
.pano .info h4{ color: #ff0000; font-size: 0.24rem; line-height: 0.24rem; text-align: center; margin-top: 0.1rem;}
.pano .focus{ position: absolute; left: 50%; top: 50%; width: 200%; height: 200%; margin-left: -100%; margin-top: -100%; background: -webkit-radial-gradient(center, ellipse cover, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 20%,rgba(255,255,255,1) 90%); display: none;}

@-webkit-keyframes hot{
	0%{ opacity:1; -webkit-transform:scale(1);}
	100%{opacity:0; -webkit-transform:scale(2);}
}

</style>
</head>
<body>
<!--------------------------------------------------------------html区域-------------------------------------------------------------------------------------->
<article class="vr"></article>
<!--------------------------------------------------------------javascript区域-------------------------------------------------------------------------------------->
<script type="text/javascript" src="../../iphone/js/base/framwork.js"></script>
<script type="text/javascript" src="r71/three.min.js"></script>
<script type="text/javascript" src="r71/CSS3DRenderer.js"></script>
<script type="text/javascript" src="r71/iphone.pano.vr.js"></script>
<script>


//compass
var compassPanel=$('<div id="compassPanel"><h3>电子罗盘</h3><p>alpha：<span class="alpha"></span></p><p>beta：<span class="beta"></span></p><p>gamma：<span class="gamma"></span></p><p>指北针：<span class="heading"></span></p>').appendTo($('body'));
var compassAlpha=compassPanel.find('.alpha');
var compassBeta=compassPanel.find('.beta');
var compassGamma=compassPanel.find('.gamma');
var compassHeading=compassPanel.find('.heading');
//compassPanel.show();

$(document).ready(function(e) {
	
	iOrient.init('landscape');//屏幕翻转锁定，默认锁定竖屏，横屏提示
	icom.screenScrollUnable();
	
	//pano
	var vrBox=$('.vr');
	var panoBox=$('.pano');
//	var imageList=['images/stage/stage_left.jpg','images/stage/stage_front.jpg','images/stage/stage_right.jpg','images/stage/stage_back.jpg','images/stage/stage_top.jpg','images/stage/stage_bottom.jpg'];
	var imageList=['images/car/left.jpg','images/car/front.jpg','images/car/right.jpg','images/car/back.jpg','images/car/top.jpg','images/car/bottom.jpg'];
	var hotList=[{pan:-2,tilt:-17,label:'中控仪表台'},{pan:-2,tilt:10,label:'后视镜'},{pan:204,tilt:-166,label:'驾驶方向盘'},{pan:-203,tilt:200,label:'副驾驶储物柜'},{pan:-293,tilt:202,label:'后门'},{pan:2,tilt:146,label:'后顶灯'},{pan:2,tilt:190,label:'后排座椅'}];

	init();
	
	function init(){
		vrBox.panoOn({image:imageList,distance:45,compass:true,hot:hotList});
	}//end func
	
	
});
	
</script>
</body>
</html>