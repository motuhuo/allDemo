<!DOCTYPE html>
<html>
<head>
<title>粒子爆炸</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,target-densitydpi=device-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="Cache-Control" content="no-cache">
<link rel="stylesheet" type="text/css" href="../../iphone/css/common.css" />
<style>
article{background-color: #17518c;}

.sky{ position:absolute; left:0; top:0; width:100%; height:100%; overflow:hidden; pointer-events:none;}
.sky i{ display:block; position:absolute; left:0; top:0; width:.1rem; height:.1rem; background:rgba(255,255,255,1); box-shadow:0 0 .2rem #fff; border-radius:50%;}
</style>
</head>
<body>
<!--------------------------------------------------------------html区域-------------------------------------------------------------------------------------->

<article class="index"></article>

<!--------------------------------------------------------------javascript区域-------------------------------------------------------------------------------------->
<script type="text/javascript" src="../../iphone/js/base/framwork.js"></script>
<script type="text/javascript" src="js/widget/iphone.blast.js"></script>
<script>
$(document).ready(function(e) {
	/*
	 * blast(option):初始化插件
		 * 参数：
		 * num:数量，默认值50
		 * x:起始点X坐标，默认值0
		 * y:起始点Y坐标，默认值0
		 * offsetX：起始点X散布值，默认值0
		 * offsetY:起始点Y散布值，默认值0
		 * speed：速度，默认值250
		 * ratio：层级，默认值5
		 * roll2D:是否2D旋转，默认值false
		 * roll3D:是否3D翻转，默认值false
		 * skew:是否扭曲，默认值false
		 * type:有几种样式，默认值1
		 * style:样式class名称，默认值'style'
		 * onOff:插件关闭的回调函数,传递引用插件的jquery对象
	 * 
	 * blast.on()：开启插件
	 * 
	 * blast.off()：关闭插件
	 * 
	*/
	
	var indexBox=$('article.index');
	
	blastFunc();
	
	function blastFunc(){
		var sky=$('<div class="sky"></div>').appendTo(indexBox);
		sky.blast({x:imath.randomRange($(window).width()*0.2,$(window).width()*0.8),y:imath.randomRange($(window).height()*0.2,$(window).height()*0.8),offsetY:5,offsetX:5,num:100,speed:250,onLoaded:function(_this){
			_this.blastOn();
		},onComplete:function(_this){
			console.log('blast complete');
			blastFunc();
		}});
	}//end func	
	
});
</script>
</body>
</html>